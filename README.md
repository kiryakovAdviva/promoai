# ü§ñ PromoAI ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç —Å RAG

PromoAI ‚Äî —ç—Ç–æ –ª–æ–∫–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç PDF/DOCX/Excel –¥–æ–∫—É–º–µ–Ω—Ç—ã, –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑ –Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç —á–∞–Ω–∫–∏ —Å –ø–æ–º–æ—â—å—é FAISS –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Å –ø–æ–º–æ—â—å—é –º–æ–¥–µ–ª–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤. –û—Ç–≤–µ—Ç—ã –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –≤—ã–±—Ä–∞–Ω–Ω—É—é LLM (Together AI –∏–ª–∏ Gemini), —Å—Ç—Ä–æ–≥–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìÑ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PDF, DOCX, Excel-—Ñ–∞–π–ª–æ–≤
- üîç –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Å FAISS
- üß† –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ TogetherAI –∏–ª–∏ Gemini
- üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (—ç—Ç–∞–ø—ã, SLA, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ç.–¥.)
- üîê SAFE_MODE ‚Äî –∑–∞–º–µ–Ω–∞ –∏–º–µ–Ω/–∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ —Ç–æ–∫–µ–Ω–∞–º–∏ –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö
- üé® UI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Gradio

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
‚îú‚îÄ‚îÄ run_processing.py           # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–π–ø–ª–∞–π–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ run_embedder.py            # –°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –∏ FAISS –∏–Ω–¥–µ–∫—Å–∞
‚îú‚îÄ‚îÄ run_app.py                 # –ó–∞–ø—É—Å–∫ Gradio-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îú‚îÄ‚îÄ document_processor/
‚îÇ   ‚îú‚îÄ‚îÄ document_parser.py     # –ü–∞—Ä—Å–∏–Ω–≥ PDF, DOCX, Excel
‚îÇ   ‚îú‚îÄ‚îÄ chunker.py             # –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Å–ø–ª–∏—Ç—Ç–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ metadata_extractor.py # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞-–¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ common_utils.py        # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ context_rules.py       # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–≥–µ–æ, —ç—Ç–∞–ø—ã, –≤–∞–ª—é—Ç—ã –∏ —Ç.–¥.)
‚îú‚îÄ‚îÄ assistant/
‚îÇ   ‚îú‚îÄ‚îÄ embedder.py            # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (BAAI/bge-m3)
‚îÇ   ‚îú‚îÄ‚îÄ search_engine.py       # FAISS-–ø–æ–∏—Å–∫
‚îÇ   ‚îî‚îÄ‚îÄ llm_client.py          # –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å LLM (Together, Gemini)
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ ui_components.py       # Gradio UI
‚îÇ   ‚îú‚îÄ‚îÄ event_handlers.py      # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π UI
‚îÇ   ‚îî‚îÄ‚îÄ style.css              # –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îú‚îÄ‚îÄ encrypt_chunks.py          # –£—Ç–∏–ª–∏—Ç–∞ –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ encryptor_tools.py         # –ó–∞–º–µ–Ω–∞ –∏–º–µ–Ω/email/—Ç—É–ª–æ–≤ –Ω–∞ —Ç–æ–∫–µ–Ω—ã
‚îú‚îÄ‚îÄ config.json                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—É—Ç–µ–π
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ input/                 # –í—Ö–æ–¥–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ output/                # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞–Ω–∫–∏ –∏ –∫–∞—Ä—Ç–∞ –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ cache/                 # –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ –∏ FAISS –∏–Ω–¥–µ–∫—Å
```

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install -r requirements.txt
# –∏–ª–∏ –≤—Ä—É—á–Ω—É—é:
pip install sentence-transformers faiss-cpu gradio python-dotenv
```

> –¢–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å `.env` —Å –∫–ª—é—á–∞–º–∏ API –¥–ª—è LLM:
```env
TOGETHER_API_KEY=your_key
GEMINI_API_KEY=your_key
```

## üì¶ –ó–∞–ø—É—Å–∫

1. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**
```bash
python run_processing.py
```

2. **–°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –∏ –∏–Ω–¥–µ–∫—Å–∞:**
```bash
python run_embedder.py
```

3. **–ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:**
```bash
python run_app.py
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –≤—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å –∏ –≤–∫–ª—é—á–∏—Ç—å SAFE_MODE.

## üõ° SAFE_MODE

- –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –æ–±—Ñ—É—Å–∫–∞—Ü–∏—é (–∑–∞–º–µ–Ω—É) –∏–º–µ–Ω, –ø–æ—á—Ç, Telegram-–Ω–∏–∫–æ–≤ –∏ –Ω–∞–∑–≤–∞–Ω–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞—â–∏—Ç—ã —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ LLM.

## üìå –ó–∞–º–µ—Ç–∫–∏

- –ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤: `BAAI/bge-m3`
- –§–æ—Ä–º–∞—Ç —á–∞–Ω–∫–æ–≤: JSON —Å `text` –∏ `meta` (document_name, type, geo, sla, responsible, etc.)
- –ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `processed_chunks.json`

## üìû –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤

- "SLA –¥–ª—è VIP –∞–∫—Ü–∏–π –≤ KZ"
- "–ö—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∑–∞–ø—É—Å–∫ –∞–∫—Ü–∏–π —Å CashBack?"
- "–°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ä–º—É Inbox 360"
- "–ö–∞–∫–∏–µ —ç—Ç–∞–ø—ã —É Promo –ø—Ä–æ—Ü–µ—Å—Å–∞?"

---

üë®‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞: Ivan Kiryakov @touchpe
üîó –õ–∏—Ü–µ–Ω–∑–∏—è: MIT
